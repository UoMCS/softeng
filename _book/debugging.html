<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 3 Debugging | Software engineering</title>
<meta name="author" content="Suzanne Embury and the software engineering team">
<meta name="description" content="Much of your time as a software engineer will be spent debugging code, either other people‚Äôs or your own. That code will often be unfamiliar to you so it is important to be able develop strategies...">
<meta name="generator" content="bookdown 0.28 with bs4_book()">
<meta property="og:title" content="Chapter 3 Debugging | Software engineering">
<meta property="og:type" content="book">
<meta property="og:url" content="https://software-eng.netlify.app/debugging.html">
<meta property="og:description" content="Much of your time as a software engineer will be spent debugging code, either other people‚Äôs or your own. That code will often be unfamiliar to you so it is important to be able develop strategies...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 3 Debugging | Software engineering">
<meta name="twitter:site" content="@csmcr">
<meta name="twitter:description" content="Much of your time as a software engineer will be spent debugging code, either other people‚Äôs or your own. That code will often be unfamiliar to you so it is important to be able develop strategies...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.0/transition.js"></script><script src="libs/bs3compat-0.4.0/tabs.js"></script><script src="libs/bs3compat-0.4.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=G-GJ4FGSK01L"></script><script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-GJ4FGSK01L');
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">Software engineering</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="expectations.html">Expectations</a></li>
<li><a class="" href="timetabling.html">Weekly timetable</a></li>
<li class="book-part">Weekly Workshops</li>
<li><a class="" href="building.html"><span class="header-section-number">1</span> Building and testing</a></li>
<li><a class="" href="understanding.html"><span class="header-section-number">2</span> Large systems</a></li>
<li><a class="active" href="debugging.html"><span class="header-section-number">3</span> Debugging</a></li>
<li><a class="" href="estimating.html"><span class="header-section-number">4</span> Cost estimation</a></li>
<li><a class="" href="testing.html"><span class="header-section-number">5</span> Test first development</a></li>
<li><a class="" href="flowing.html"><span class="header-section-number">6</span> Git workflows</a></li>
<li><a class="" href="refactoring.html"><span class="header-section-number">7</span> Software Refactoring</a></li>
<li><a class="" href="designing.html"><span class="header-section-number">8</span> Design for Testability</a></li>
<li><a class="" href="patterning.html"><span class="header-section-number">9</span> Software design patterns</a></li>
<li><a class="" href="risking.html"><span class="header-section-number">10</span> Risk management</a></li>
<li><a class="" href="opening.html"><span class="header-section-number">11</span> Open source challenge</a></li>
<li class="book-part">Team study materials</li>
<li><a class="" href="starting.html"><span class="header-section-number">12</span> Starting Stendhal</a></li>
<li><a class="" href="mentoring.html"><span class="header-section-number">13</span> Industrial mentoring</a></li>
<li><a class="" href="ourmentor.html"><span class="header-section-number">14</span> Your mentor</a></li>
<li><a class="" href="syncing.html"><span class="header-section-number">15</span> Synchronising</a></li>
<li class="book-part">Coursework</li>
<li><a class="" href="gitting.html"><span class="header-section-number">16</span> Individual Coursework 1</a></li>
<li><a class="" href="conflicting.html"><span class="header-section-number">17</span> Individual Coursework 2</a></li>
<li><a class="" href="dealing.html"><span class="header-section-number">18</span> Team Coursework 1</a></li>
<li><a class="" href="working.html"><span class="header-section-number">19</span> Team Coursework 2</a></li>
<li class="book-part">Self study materials</li>
<li><a class="" href="guiding.html"><span class="header-section-number">20</span> Testing Stendhal</a></li>
<li><a class="" href="committing.html"><span class="header-section-number">21</span> Integrating commits</a></li>
<li><a class="" href="integrating.html"><span class="header-section-number">22</span> Continuous integration</a></li>
<li><a class="" href="reviewing.html"><span class="header-section-number">23</span> Code review</a></li>
<li><a class="" href="automating.html"><span class="header-section-number">24</span> Unit testing</a></li>
<li><a class="" href="reading.html"><span class="header-section-number">25</span> References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/dullhunk/softeng">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="debugging" class="section level1" number="3">
<h1>
<span class="header-section-number">3</span> Debugging<a class="anchor" aria-label="anchor" href="#debugging"><i class="fas fa-link"></i></a>
</h1>
<p>Much of your time as a software engineer will be spent debugging code, either other people‚Äôs or your own. That code will often be unfamiliar to you so it is important to be able develop strategies for debugging an unfamiliar codebase. In this course we will use Stendhal as an example to help you develop better debugging skills, see figure <a href="debugging.html#fig:xkcd-debugging-fig">3.1</a></p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:xkcd-debugging-fig"></span>
<img src="images/debugging.png" alt="Debugging unfamiliar codebases is a routine part of software engineering. Debugging (xkcd.com/1722) by Randall Munroe is licensed under CC BY-NC 2.5" width="99%"><p class="caption">
Figure 3.1: Debugging unfamiliar codebases is a routine part of software engineering. <a href="https://xkcd.com/1722/">Debugging (xkcd.com/1722)</a> by <a href="https://en.wikipedia.org/wiki/Randall_Munroe">Randall Munroe</a> is licensed under <a href="https://creativecommons.org/licenses/by-nc/2.5/">CC BY-NC 2.5</a>
</p>
</div>

<div id="preparing-for-the-workshop" class="section level2" number="3.1">
<h2>
<span class="header-section-number">3.1</span> Preparing for the workshop<a class="anchor" aria-label="anchor" href="#preparing-for-the-workshop"><i class="fas fa-link"></i></a>
</h2>
<p>Welcome to the COMP23311 workshop on <em>Debugging an Unfamiliar Code Base</em>.</p>
<p>Today, after a short lecture introducing the core concepts, we‚Äôll be working through a number of activities in which you will be undertaking some debugging tasks. Before the workshop begins, please follow the instructions below to prepare your machine for the activities we will do in the workshop today.</p>
<p>We are going to use the Stendhal code base to illustrate the topics under discussion. This will involve you reading the Stendhal code, and making some small changes. In order not to put your coursework at risk, we‚Äôre going to use a slimmed down version of the Stendhal code repository containing the Stendhal code but without the extensive revision history.</p>
<p>To prepare for the workshop, you need to clone the repository and import it into your preferred IDE.</p>
<p>The HTTPS protocol URI of the repository is:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb29-1"><a href="debugging.html#cb29-1" aria-hidden="true" tabindex="-1"></a>https://gitlab.cs.man.ac.uk/suzanne.m.embury/stendhal-playground-2019.git</span></code></pre></div>
<p>If you are using Eclipse and need a reminder of what to do, you can follow the steps we took in the Week 1 workshops, when we cloned and imported the Marauroa code base. The instructions are on Blackboard, under <code>course content</code> &gt; <code>Week 1</code>.</p>
<div class="rmdnote">
<p>Eclipse users will need to create a new workspace to import this project into. This is because Eclipse doesn‚Äôt allow two projects with the same name in a single workspace.</p>
</div>
<div id="introw" class="section level3" number="3.1.1">
<h3>
<span class="header-section-number">3.1.1</span> Introduction to the Workshop Activity<a class="anchor" aria-label="anchor" href="#introw"><i class="fas fa-link"></i></a>
</h3>
<p>In this workshop, we will look at techniques for debugging unfamiliar codebases such as
those encountered throughout the COMP23311 (<code>marauroa</code> and <code>stendhal</code>), when contributing
to open source projects or when working with other legacy codebases (e.g.¬†as part of an industry
development role).</p>
<p>Note that unlike the other COMP23311 workshops so far, this workshop will focus on debugging the <code>stendhal</code> codebase rather than <code>marauroa</code>.</p>
<p><strong>This workshop should have direct application in the first team coursework exercise.</strong></p>
<p>The workshop builds on techniques given in Workshop 2 for navigating large, unfamiliar codebases.
In this workshop you will:</p>
<ul>
<li>Systematically develop your understanding of a reported error in the Stendhal codebase through execution only.</li>
<li>Develop test cases that verify the problem by closely replicating gameplay.</li>
<li>Use code navigation skills developed in Workshop 2 to identify possible causes of the error.</li>
<li>Use a range of debugging tactics to eliminate causes, such that a possible fix can be proposed.</li>
<li>Use code navigation skills developed in Workshop 2 to identify other similar areas of code that may contain analogous flaws.</li>
</ul>
<p>We‚Äôll be assuming that, after this workshop, you are capable of carrying out the following tasks for yourself, without needing much guidance:</p>
<ul>
<li>Develop understanding of a reported or observed fault in a large and/or unfamiliar codebase.</li>
<li>Identify appropriate strategies and tactics to identify the likely location of a reported or observed fault in a large and/or unfamiliar codebase.</li>
<li>Read and write test cases as part of a selected debugging strategy.</li>
</ul>
<p>As in prior workshops, there will be scope to work through the task at your own pace. This is an ambitious workshop task. However, you should aim to have completed steps 1-3 by the end of the workshop, or at least to have narrowed down the source of the problem considerably. Ideally, you would have a clear idea what fix should be applied. Implementing (and testing) the fix itself should add very little extra work after this, and is the only real way to prove that you‚Äôve successfully completed step 3.</p>
</div>
</div>
<div id="workshop-activity-working-through-a-bug-report" class="section level2" number="3.2">
<h2>
<span class="header-section-number">3.2</span> Workshop Activity: Working Through a Bug Report<a class="anchor" aria-label="anchor" href="#workshop-activity-working-through-a-bug-report"><i class="fas fa-link"></i></a>
</h2>
<p><strong>Definition</strong>: Debugging is the process of understanding and reducing the number of ‚Äúbugs‚Äù (errors or defects) in a computer system (software, hardware or a combination of the two) such that the system behaves as expected.</p>
<p>We‚Äôll work through a systematic process to get from bug report to resolution as follows:</p>
<ol style="list-style-type: decimal">
<li>Start with a problem</li>
<li>Stabilise the problem</li>
<li>Isolate the source of the problem</li>
<li>Fix the problem</li>
<li>Test the fix</li>
<li>Look for similar errors</li>
</ol>
<p>Note that although these are represented as six distinct steps, the reality is that there are times when some of the steps may overlap. For example, if you decide to add test cases to help you stabilise your understanding of the problem (#2); this will probably require you to take some steps towards isolating the source of the problem (#3) as you will need to decide which portions of the code should be subjected to the test cases you are going to write.</p>
<p>Figure <a href="debugging.html#fig:issue5-fig">3.2</a> is an example bug report similar to those you should already have seen in your team coursework.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:issue5-fig"></span>
<img src="images/issue5.png" alt="An example bug report as an issue in GitLab. GitLab issues are very similar to GitHub issues if you‚Äôre familiar with those: guides.github.com/features/issues/" width="100%"><p class="caption">
Figure 3.2: An example bug report as an issue in GitLab. GitLab issues are very similar to GitHub issues if you‚Äôre familiar with those: <a href="https://guides.github.com/features/issues/">guides.github.com/features/issues/</a>
</p>
</div>

<p>In this workshop you‚Äôll be working systematically through the steps to confirm the reported error, to understand the cause and (if possible in the time available) implement changes to the <code>stendhal</code> codebase that address the issue.</p>
<div id="wheretostart" class="section level3" number="3.2.1">
<h3>
<span class="header-section-number">3.2.1</span> Start With a Problem<a class="anchor" aria-label="anchor" href="#wheretostart"><i class="fas fa-link"></i></a>
</h3>
<p>We‚Äôll begin this workshop by confirming that the reported bug is genuinely a problem, and understanding how to trigger it in regular gameplay. We‚Äôll do all of this <strong>without looking at any code</strong>.</p>
<p>It should be relatively intuitive to figure out how this quest should work. However, we want to avoid assumptions and so you are strongly encouraged to view the <code>stendhal</code> documentation for this quest: <a href="https://stendhalgame.org/quest/water_for_xhiphin_zohos.html">stendhalgame.org/quest/water_for_xhiphin_zohos.html</a>.</p>
<div class="rmdnote">
<p>üí° <strong>Hint</strong> üí°
Some useful <code>stendhal</code> commands (you‚Äôll need to make yourself an admin user to use these):</p>
<ul>
<li>
<code>/summonat [player] bag [quantity] [item]</code> - Add some quantity of an item to a player‚Äôs bag.</li>
<li>
<code>/teleportto  [player|NPC]</code> - Move your player to the location of another player or NPC.</li>
<li>
<code>/alterquest [player] [questslot]</code> - Sets the specified quest to <code>null</code> (not accepted, not completed) for a given player.
\end{smitemize}</li>
</ul>
<p>For a full list of admin commands (and details of how to make a player an admin user) see: <a href="https://stendhalgame.org/wiki/Stendhal:Administration">stendhalgame.org/wiki/Stendhal:Administration</a></p>
<p>To replicate this bug, you‚Äôll want to teleport to the characters <code>Xhiphin Zohos</code> and <strong><code>Stefan</code></strong>. You‚Äôll want to summon the item <strong><code>water</code></strong>. You may also find it helpful to summon additional items to act as clear separators in your player‚Äôs bag, e.g.¬†<strong><code>chicken</code></strong> or <strong><code>potion</code></strong>. The name of the quest slot is <strong><code>water_for_xhiphin</code></strong></p>
<p>To get the quest from Xhiphin, you‚Äôll need to engage him in conversation: <em>‚Äúhi‚Äù</em>, <em>‚Äúquest‚Äù</em>, and <em>‚Äúok‚Äù</em> (in that order) should accept the quest. Likewise <em>‚Äúhi‚Äù</em> and <em>‚Äúwater‚Äù</em> should result in Stefan checking the water for you.</p>
<p>The item at the top-left of your bag grid is the ‚Äúfirst‚Äù item in your bag.</p>
</div>
<div class="rmdnote">
<p><strong>WARNING: Problems Becoming an Admin User?</strong></p>
<p>Make sure to edit the <code>data/conf/admins.txt</code> file before running the Stendhal server. The Server won‚Äôt pick up changes to this file while it is running.</p>
</div>
<p><strong><code>[OUTPUT]</code></strong> To demonstrate completion of this step, write a statement that summarises your current understanding of the reported problem.</p>
</div>
<div id="stabilise" class="section level3" number="3.2.2">
<h3>
<span class="header-section-number">3.2.2</span> Stabilise the Problem<a class="anchor" aria-label="anchor" href="#stabilise"><i class="fas fa-link"></i></a>
</h3>
<p>Following an initial confirmation that there is some odd behaviour with this quest, we now need to develop a more detailed understanding of the problem. What are the cases in which this quest behaves as expected? When does it not behave as expected?</p>
<p><strong><code>[OUTPUT]</code></strong> Now that you have played the quest through a couple of times you should refine your original statement to something more precise that represents your new understanding of the problem.</p>
<p>You may find that your understanding hasn‚Äôt changed much at all ‚Äì if this is the case, compare with others around you to be sure that this is simply because you had a really precise statement of the problem to start with. Note also that your problem statement will likely continue to be revised as you work through the rest of the process.</p>
<p>Since we don‚Äôt want to have to repeatedly play the game every time we make a change to the code, we‚Äôll look to develop a set of test cases that demonstrate a variety of behaviours related to this error. In this case, the problem relates to the quest <em>Water for Xhiphin Zohos</em>, so we should find the correct place to locate tests related to the behaviour of quests: <code>tests/games/stendhal/server/maps/quests</code>.</p>
<p><strong><code>[OUTPUT]</code></strong> Write a set of test cases that demonstrate both correct and incorrect behaviour of the quest (some tests that succeed and some that fail).</p>
<!--warningbox **Tests failing?** If you're seeing more tests fail than you expected, with an error that indicates that XML files have not been found e.g `quests.xml`, `items.xml`), then this is an indication that you have not set up the test suite correctly. Instructions for how to do this were in last week's team study instructions: ``Starting with Stendhal: Instructions for Getting Started on the Coursework''. In particular, you'll want to re-read and follow the instructions on page 4 about how to run the test suite using the Ant build file -- only when you've run all the tests through once with the build file will you be able to run individual tests or test files separately.-->
</div>
<div id="isolation" class="section level3" number="3.2.3">
<h3>
<span class="header-section-number">3.2.3</span> Isolate the Source of the Problem<a class="anchor" aria-label="anchor" href="#isolation"><i class="fas fa-link"></i></a>
</h3>
<p>To locate the parts of the computer system (in this case software) that are causing the problem, we first need to select one or more strategies and tactics that we will use as tools in our investigation. For the purposes of debugging, you should think of a <em>strategy</em> as a broad approach, and <em>tactics</em> as the set of specific actions or equipment you will use to follow the strategy. Note that not all <em>strategy‚Äìtactic</em> pairs will make sense to use together.</p>
<p>For this workshop, we‚Äôre going to suggest that you avoid the <em>brute force</em> strategy. You can also rule out the <em>architectural</em> strategy (this error is definitely in the server, not the client). Tactics-wise, the <em>profiler</em> is definitely not appropriate here. <strong>No matter what tactics you pick, you should ultimately aim to write tests on suspected method calls to demonstrate that you have correctly identified the source</strong>.</p>
<p>To try and isolate the source of the problem you should work with at least one other person. Check in regularly with your partner as you learn new things about the problem. A suggested approach is as follows:</p>
<ol style="list-style-type: decimal">
<li>Choose one strategy and tactic to isolate the source.</li>
<li>Compare with a partner ‚Äì find someone taking a different approach to you.</li>
<li>Work through the code for no more than 15 minutes.</li>
<li>Discuss with your partner ‚Äì what have you learned about the problem. If you‚Äôve not made progress towards isolating the source, consider if you‚Äôve picked good strategies/tactics.</li>
<li>Repeat as needed.</li>
<li>Try to keep brief notes as you go to record your progress.</li>
</ol>
<p><strong><code>[OUTPUT]</code></strong> Evidence of your developing knowledge about the source of the problem.</p>
<p><strong><code>[OUTPUT]</code></strong> Once you are confident you have identified the source, if you have not already done so you must write test cases for the suspected method calls to demonstrate that you have correctly identified the source.</p>
</div>
<div id="fixit" class="section level3" number="3.2.4">
<h3>
<span class="header-section-number">3.2.4</span> Fix the Problem<a class="anchor" aria-label="anchor" href="#fixit"><i class="fas fa-link"></i></a>
</h3>
<p>Having accurately isolated the source of the problem, the fix is usually fairly straightforward. In this case, you should be able to figure out some relatively trivial modifications to the codebase that would allow you to ensure correct quest behaviour.</p>
<p><strong><code>[OUTPUT]</code></strong> Modify the codebase to alter, replace, or add to the problematic method call associated with this problem.</p>
</div>
<div id="testfix" class="section level3" number="3.2.5">
<h3>
<span class="header-section-number">3.2.5</span> Test the Fix<a class="anchor" aria-label="anchor" href="#testfix"><i class="fas fa-link"></i></a>
</h3>
<p>Rerun the tests developed during Steps 2 (Stabilise the Problem) and 3 (Isolate the Source of the Problem). Do the tests now pass? If not, return to an earlier step in the process (usually Step 2 or Step 3) and try again.</p>
<p><strong><code>[OUTPUT]</code></strong> You should be able to successfully demonstrate that both sets of tests complete without errors.</p>
<p>Play the game ‚Äì does the quest now behave as expected? If not, why did the tests not pick this up for you? Return to Step 2 to revise your understanding of the problem and be sure that your tests accurately reflect the correct and incorrect behaviour of the quest (NOT of some specific aspect of the code that the quest uses).</p>
<p><strong><code>[OUTPUT]</code></strong> You should be able to successfully demonstrate that the quest behaves correctly in all cases.</p>
</div>
<div id="similarity" class="section level3" number="3.2.6">
<h3>
<span class="header-section-number">3.2.6</span> Look for Similar Errors<a class="anchor" aria-label="anchor" href="#similarity"><i class="fas fa-link"></i></a>
</h3>
<p>So far our debugging process has been <em>reactive</em> ‚Äì that is, someone has reported a problem and we‚Äôve tried to respond to this by identifying and fixing the flaw in the computer system that was responsible. We‚Äôre now going to finish the debugging process with one final <em>proactive</em> step ‚Äì we‚Äôre going to go and deliberately look through the codebase to see if there are other likely parts of the computer system with similar behaviour that may also be problematic.</p>
<p>Using the code navigation skills developed in Workshop 2, you should work through the <code>stendhal</code> codebase to find other places in which the original (unmodified) method implicated in the reported bug is called. For each of these calls, you should try and establish what the expected and actual behaviours are.</p>
<p><strong><code>[OUTPUT]</code></strong> Your debugging log for this workshop should contain a list of candidate calls to the implicated method, your predictions about their expected behaviours and a comparison with the actual behaviour seen during execution.</p>
</div>
<div id="truths" class="section level3" number="3.2.7">
<h3>
<span class="header-section-number">3.2.7</span> The 11 Truths of Debugging<a class="anchor" aria-label="anchor" href="#truths"><i class="fas fa-link"></i></a>
</h3>
<p>Nick Parlante at Stanford University (<a href="https://cs.stanford.edu/people/nick/">cs.stanford.edu/people/nick</a>) has enumerated <em>eleven truths of debugging</em>, which encapsulate some of the strategies discussed above:</p>
<ol style="list-style-type: decimal">
<li>Intuition and hunches are great ‚Äì you just have to test them out. When a hunch and a fact collide, the fact wins. That‚Äôs life in the city.</li>
<li>Don‚Äôt look for complex explanations. Even the simplest omission or typo can lead to very weird behaviour. Everyone is capable of producing extremely simple and obvious errors from time to time. Look at code critically ‚Äì don‚Äôt just sweep your eye over that series of simple statements assuming that they are too simple to be wrong.</li>
<li>The clue to what is wrong in your code is in the flow of control. Try to see what the facts are pointing to. The computer is not trying to mislead you. Work from the facts.</li>
<li>Be systematic and persistent. Don‚Äôt panic. The bug is not moving around in your code, trying to trick or evade you. It is just sitting in one place, doing the wrong thing in the same way every time.</li>
<li>If you code was working a minute ago, but now it doesn‚Äôt ‚Äì what was the last thing you changed? This incredibly reliable rule of thumb is the reason you should test your code as you go rather than all at once.</li>
<li>Do not change your code haphazardly trying to track down a bug. This is sort of like a scientist who changes more than one variable in an experiment at a time.</li>
<li>It makes the observed behaviour much more difficult to interpret, and you tend to introduce new bugs.</li>
<li>If you find some wrong code that does not seem to be related to the bug you were tracking, fix the wrong code anyway. Many times the wrong code was related to or obscured the bug in a way you had not imagined.</li>
<li>You should be able to explain in Sherlock Holmes style the series of facts, tests, and deductions that led you to find a bug. Alternately, if you have a bug but can‚Äôt pinpoint it, then you should be able to give an argument to a critical third party detailing why each one of your methods cannot contain the bug. One of these arguments will contain a flaw since one of your methods does in fact contain a bug. Trying to construct the arguments may help you to see the flaw.</li>
<li>Be critical of your beliefs about your code. It‚Äôs almost impossible to see a bug in a method when your instinct is that the method is innocent. Only when the facts have proven without question that the method is not the source of the problem should you assume it to be correct.</li>
<li>Although you need to be systematic, there is still an enormous amount of room for beliefs, hunches, guesses, etc. Use your intuition about where the bug probably is to direct the order that you check things in your systematic search. Check the methods you suspect the most first. Good instincts will come with experience.</li>
<li>Debugging depends on an objective and reasoned approach. It depends on overall perspective and understanding of the workings of your code. Debugging code is more mentally demanding than writing code. The longer you try to track down a bug without success, the less perspective you tend to have. Realise when you have lost the perspective on your code to debug. Take a break.</li>
</ol>
<p><code>Document version:</code> 17 August, 2022</p>

</div>
</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="understanding.html"><span class="header-section-number">2</span> Large systems</a></div>
<div class="next"><a href="estimating.html"><span class="header-section-number">4</span> Cost estimation</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#debugging"><span class="header-section-number">3</span> Debugging</a></li>
<li>
<a class="nav-link" href="#preparing-for-the-workshop"><span class="header-section-number">3.1</span> Preparing for the workshop</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#introw"><span class="header-section-number">3.1.1</span> Introduction to the Workshop Activity</a></li></ul>
</li>
<li>
<a class="nav-link" href="#workshop-activity-working-through-a-bug-report"><span class="header-section-number">3.2</span> Workshop Activity: Working Through a Bug Report</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#wheretostart"><span class="header-section-number">3.2.1</span> Start With a Problem</a></li>
<li><a class="nav-link" href="#stabilise"><span class="header-section-number">3.2.2</span> Stabilise the Problem</a></li>
<li><a class="nav-link" href="#isolation"><span class="header-section-number">3.2.3</span> Isolate the Source of the Problem</a></li>
<li><a class="nav-link" href="#fixit"><span class="header-section-number">3.2.4</span> Fix the Problem</a></li>
<li><a class="nav-link" href="#testfix"><span class="header-section-number">3.2.5</span> Test the Fix</a></li>
<li><a class="nav-link" href="#similarity"><span class="header-section-number">3.2.6</span> Look for Similar Errors</a></li>
<li><a class="nav-link" href="#truths"><span class="header-section-number">3.2.7</span> The 11 Truths of Debugging</a></li>
</ul>
</li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/dullhunk/softeng/blob/master/03-debugging.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/dullhunk/softeng/edit/master/03-debugging.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Software engineering</strong>" was written by Suzanne Embury and the software engineering team. </p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
